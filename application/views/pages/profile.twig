{#
 # MySui Online Judge
 # file: profile.twig
 # author: MySuiOJ Team <mysuioj@gmail.com>
 #}
{% set selected='users' %}
{% extends 'templates/base.twig' %}
{% block icon %}fa-user{% endblock %}
{% block title %}{{ lang('Profile') }}{% endblock %}
{% block head_title %}{{ lang('Profile') }}{% endblock %}



{% block main_content %}
<p class="input_p">
{% if form_status == 'ok' %}
<div class="msoj_ok">{{ lang('Profile updated successfully') }}</div>
{% elseif form_status == 'error' %}
	<div class="msoj_error">{{ lang('Error updating profile') }}</div>
{% endif %}
</p>
{{ form_open('profile/'~id) }}
<p class="input_p clear">
	<label for="form_username" class="short2">{{ lang('Username') }}：<br>
		<span class="form_comment">{{ lang('Cannot change username') }}</span>
	</label>
	<input id="form_username" type="text" name="username" class="mysui_input medium" value="{{ edit_username }}"  disabled/>
</p>
<p class="input_p clear">
	<label for="form_name" class="short2">{{ lang('Name') }}：</label>
	<input id="form_name" type="text" name="display_name" class="mysui_input medium" value="{{ display_name }}"/>
	{{ form_error('display_name', '<div class="msoj_error">', '</div>') }}
</p>
<p class="input_p clear">
	<label for="form_email" class="short2">{{ lang('Email') }}：</label>
	<input id="form_email" type="text" name="email" class="mysui_input medium" value="{{ email }}"/>
	{{ form_error('email', '<div class="msoj_error">', '</div>') }}
</p>
<p class="input_p clear">
	<label for="form_password" class="short2">{{ lang('Password') }}：<br>
		<span class="form_comment">{{ lang('Not change password') }}</span>
	</label>
	<input id="form_password" type="password" name="password" class="mysui_input medium"/>
	{{ form_error('password', '<br><span class="msoj_error">', '</span>') }}
</p>
<p class="input_p clear">
	<label for="form_password_2" class="short2">{{ lang('Password, Again') }}：</label>
	<input id="form_password_2" type="password" name="password_again" class="mysui_input medium"/>
	{{ form_error('password_again', '<div class="msoj_error">', '</div>') }}
</p>
{% if user.level == 3 %}
<p class="input_p clear">
	<label for="form_role" class="short2">{{ lang('User Role') }}：</label>
	<select id="form_role" name="role" class="mysui_input">
		<option value="admin" {{ role=='admin' ? 'selected="selected"' }} >{{ lang('admin') }}</option>
		<option value="head_instructor" {{ role=='head_instructor' ? 'selected="selected"' }} >{{ lang('head_instructor') }}</option>
		<option value="instructor" {{ role=='instructor' ? 'selected="selected"' }} >{{ lang('instructor') }}</option>
		<option value="student" {{ role=='student' ? 'selected="selected"' }} >{{ lang('student') }}</option>
	</select>
	{{ form_error('role', '<div class="msoj_error">', '</div>') }}
</p>
{% endif %}
<p class="input_p">
	<input type="submit" value="{{ lang('Save') }}" class="mysui_input"/>
</p>
</form>
{% endblock %}  {# main_content #}