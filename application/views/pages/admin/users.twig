{#
 # MySui Online Judge
 # file: users.twig
 # author: MySui Team <mysuioj@gmail.com>
 #         airicy <airicy@outlook.com>
 #}
{% set selected = 'users' %}
{% extends 'templates/base.twig' %}
{% block icon %}fa-users{% endblock %}
{% block title %}{{ lang('Users') }}{% endblock %}
{% block head_title %}{{ lang('Users') }}{% endblock %}



{% block title_menu %}
	<span class="title_menu_item"><a href="https://github.com/MySuiOJ/MySuiOJ/blob/docs/v1.4/users.md" target="_blank"><i class="fa fa-question-circle color6"></i> {{ lang('Help') }}</a></span>
	<span class="title_menu_item"><a href="{{ site_url('users/add') }}"><i class="fa fa-plus color11"></i> {{ lang('Add Users') }}</a></span>
	<span class="title_menu_item"><a href="{{ site_url('users/list_excel') }}"><i class="fa fa-download color9"></i> {{ lang('Excel') }}</a></span>
{% endblock %}



{% block main_content %}
{% if deleted_user %}
	<p class="msoj_ok">{{ lang('User deleted') }}</p>
{% endif %}
{% if deleted_submissions %}
	<p class="msoj_ok">{{ lang('Submissions user deleted') }}</p>
{% endif %}
<div style="height:15px"></div>
<table class="mysui_table">
	<thead>
		<tr>
			<th>#</th>
			<th>{{ lang('User ID') }}</th>
			<th>{{ lang('Username') }}</th>
			<th>{{ lang('Display Name') }}</th>
			<th>{{ lang('Email') }}</th>
			<th>{{ lang('Role') }}</th>
			<th>{{ lang('First Login') }}</th>
			<th>{{ lang('Last Login') }}</th>
			<th>{{ lang('Actions') }}</th>
		</tr>
	</thead>
	{% for user in users %}
		<tr data-id="{{ user.id }}">
			<td>{{ loop.index }}</td>
			<td>{{ user.id }}</td>
			<td id="un">{{ user.username }}</td>
			<td dir="auto">{{ user.display_name }}</td>
			<td>{{ user.email }}</td>
			<td>{{ user.role }}</td>
			<td>{{ user.first_login_time ? user.first_login_time : 'Never' }}</td>
			<td>{{ user.last_login_time ? user.last_login_time : 'Never' }}</td>
			<td>
				<a title="{{ lang('Edit') }}" href="{{ site_url('profile/'~user.id) }}"><i class="fa fa-pencil fa-lg color9"></i></a>
				<a title="{{ lang('Submissions') }}" href="{{ site_url('submissions/all/user/'~user.username) }}"><i class="fa fa-bars fa-lg color12"></i></a>
				<span title="{{ lang('Delete User') }}" class="delete_user pointer"><i class="fa fa-times fa-lg color2"></i></span>
				<span title="{{ lang('Delete Submissions') }}" class="delete_submissions pointer"><i class="fa fa-times-circle fa-lg color1"></i></span>
			</td>
		</tr>
	{% endfor %}
</table>
{% endblock %}  {# main_content #}
